{
  "version": 3,
  "sources": ["../../.deno/runed@0.36.0/node_modules/runed/dist/internal/configurable-globals.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/internal/utils/dom.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/active-element/active-element.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/internal/utils/is.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/extract/extract.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/animation-frames/animation-frames.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/context/context.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-debounce/use-debounce.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/watch/watch.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/internal/utils/function.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/debounced/debounced.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-mutation-observer/use-mutation-observer.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-resize-observer/use-resize-observer.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/element-rect/element-rect.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/internal/utils/get.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/element-size/element-size.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/finite-state-machine/finite-state-machine.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/is-focus-within/is-focus-within.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-event-listener/use-event-listener.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/is-idle/is-idle.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-intersection-observer/use-intersection-observer.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/is-in-viewport/is-in-viewport.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/is-mounted/is-mounted.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/is-document-visible/is-document-visible.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/internal/utils/sleep.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/on-click-outside/on-click-outside.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/persisted-state/persisted-state.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/pressed-keys/pressed-keys.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/previous/previous.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/resource/resource.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/scroll-state/scroll-state.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/state-history/state-history.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/textarea-autosize/textarea-autosize.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-throttle/use-throttle.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/throttled/throttled.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-geolocation/use-geolocation.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/use-interval/use-interval.svelte.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/bool-attr/bool-attr.js", "../../.deno/runed@0.36.0/node_modules/runed/dist/utilities/on-cleanup/on-cleanup.svelte.js"],
  "sourcesContent": ["import { BROWSER } from \"esm-env\";\nexport const defaultWindow = BROWSER && typeof window !== \"undefined\" ? window : undefined;\nexport const defaultDocument = BROWSER && typeof window !== \"undefined\" ? window.document : undefined;\nexport const defaultNavigator = BROWSER && typeof window !== \"undefined\" ? window.navigator : undefined;\nexport const defaultLocation = BROWSER && typeof window !== \"undefined\" ? window.location : undefined;\n", "import { defaultDocument } from \"../configurable-globals.js\";\n/**\n * Handles getting the active element in a document or shadow root.\n * If the active element is within a shadow root, it will traverse the shadow root\n * to find the active element.\n * If not, it will return the active element in the document.\n *\n * @param document A document or shadow root to get the active element from.\n * @returns The active element in the document or shadow root.\n */\nexport function getActiveElement(document) {\n    let activeElement = document.activeElement;\n    while (activeElement?.shadowRoot) {\n        const node = activeElement.shadowRoot.activeElement;\n        if (node === activeElement)\n            break;\n        else\n            activeElement = node;\n    }\n    return activeElement;\n}\n/**\n * Returns the owner document of a given element.\n *\n * @param node The element to get the owner document from.\n * @returns\n */\nexport function getOwnerDocument(node, fallback = defaultDocument) {\n    return node?.ownerDocument ?? fallback;\n}\n/**\n * Checks if an element is or is contained by another element.\n *\n * @param node The element to check if it or its descendants contain the target element.\n * @param target The element to check if it is contained by the node.\n * @returns\n */\nexport function isOrContainsTarget(node, target) {\n    return node === target || node.contains(target);\n}\n", "import { defaultWindow, } from \"../../internal/configurable-globals.js\";\nimport { getActiveElement } from \"../../internal/utils/dom.js\";\nimport { on } from \"svelte/events\";\nimport { createSubscriber } from \"svelte/reactivity\";\nexport class ActiveElement {\n    #document;\n    #subscribe;\n    constructor(options = {}) {\n        const { window = defaultWindow, document = window?.document } = options;\n        if (window === undefined)\n            return;\n        this.#document = document;\n        this.#subscribe = createSubscriber((update) => {\n            const cleanupFocusIn = on(window, \"focusin\", update);\n            const cleanupFocusOut = on(window, \"focusout\", update);\n            return () => {\n                cleanupFocusIn();\n                cleanupFocusOut();\n            };\n        });\n    }\n    get current() {\n        this.#subscribe?.();\n        if (!this.#document)\n            return null;\n        return getActiveElement(this.#document);\n    }\n}\n/**\n * An object holding a reactive value that is equal to `document.activeElement`.\n * It automatically listens for changes, keeping the reference up to date.\n *\n * If you wish to use a custom document or shadowRoot, you should use\n * [useActiveElement](https://runed.dev/docs/utilities/active-element) instead.\n *\n * @see {@link https://runed.dev/docs/utilities/active-element}\n */\nexport const activeElement = new ActiveElement();\n", "export function isFunction(value) {\n    return typeof value === \"function\";\n}\nexport function isObject(value) {\n    return value !== null && typeof value === \"object\";\n}\nexport function isElement(value) {\n    return value instanceof Element;\n}\n", "import { isFunction } from \"../../internal/utils/is.js\";\nexport function extract(value, defaultValue) {\n    if (isFunction(value)) {\n        const getter = value;\n        const gotten = getter();\n        if (gotten === undefined)\n            return defaultValue;\n        return gotten;\n    }\n    if (value === undefined)\n        return defaultValue;\n    return value;\n}\n", "import { untrack } from \"svelte\";\nimport { extract } from \"../extract/index.js\";\nimport { defaultWindow } from \"../../internal/configurable-globals.js\";\n/**\n * Wrapper over {@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame requestAnimationFrame},\n * with controls for pausing and resuming the animation, reactive tracking and optional limiting of fps, and utilities.\n */\nexport class AnimationFrames {\n    #callback;\n    #fpsLimitOption = 0;\n    #fpsLimit = $derived(extract(this.#fpsLimitOption) ?? 0);\n    #previousTimestamp = null;\n    #frame = null;\n    #fps = $state(0);\n    #running = $state(false);\n    #window = defaultWindow;\n    constructor(callback, options = {}) {\n        if (options.window)\n            this.#window = options.window;\n        this.#fpsLimitOption = options.fpsLimit;\n        this.#callback = callback;\n        this.start = this.start.bind(this);\n        this.stop = this.stop.bind(this);\n        this.toggle = this.toggle.bind(this);\n        $effect(() => {\n            if (options.immediate ?? true) {\n                untrack(this.start);\n            }\n            return this.stop;\n        });\n    }\n    #loop(timestamp) {\n        if (!this.#running || !this.#window)\n            return;\n        if (this.#previousTimestamp === null) {\n            this.#previousTimestamp = timestamp;\n        }\n        const delta = timestamp - this.#previousTimestamp;\n        const fps = 1000 / delta;\n        if (this.#fpsLimit && fps > this.#fpsLimit) {\n            this.#frame = this.#window.requestAnimationFrame(this.#loop.bind(this));\n            return;\n        }\n        this.#fps = fps;\n        this.#previousTimestamp = timestamp;\n        this.#callback({ delta, timestamp });\n        this.#frame = this.#window.requestAnimationFrame(this.#loop.bind(this));\n    }\n    start() {\n        if (!this.#window)\n            return;\n        this.#running = true;\n        this.#previousTimestamp = 0;\n        this.#frame = this.#window.requestAnimationFrame(this.#loop.bind(this));\n    }\n    stop() {\n        if (!this.#frame || !this.#window)\n            return;\n        this.#running = false;\n        this.#window.cancelAnimationFrame(this.#frame);\n        this.#frame = null;\n    }\n    toggle() {\n        this.#running ? this.stop() : this.start();\n    }\n    get fps() {\n        return !this.#running ? 0 : this.#fps;\n    }\n    get running() {\n        return this.#running;\n    }\n}\n", "import { getContext, hasContext, setContext } from \"svelte\";\nexport class Context {\n    #name;\n    #key;\n    /**\n     * @param name The name of the context.\n     * This is used for generating the context key and error messages.\n     */\n    constructor(name) {\n        this.#name = name;\n        this.#key = Symbol(name);\n    }\n    /**\n     * The key used to get and set the context.\n     *\n     * It is not recommended to use this value directly.\n     * Instead, use the methods provided by this class.\n     */\n    get key() {\n        return this.#key;\n    }\n    /**\n     * Checks whether this has been set in the context of a parent component.\n     *\n     * Must be called during component initialisation.\n     */\n    exists() {\n        return hasContext(this.#key);\n    }\n    /**\n     * Retrieves the context that belongs to the closest parent component.\n     *\n     * Must be called during component initialisation.\n     *\n     * @throws An error if the context does not exist.\n     */\n    get() {\n        const context = getContext(this.#key);\n        if (context === undefined) {\n            throw new Error(`Context \"${this.#name}\" not found`);\n        }\n        return context;\n    }\n    /**\n     * Retrieves the context that belongs to the closest parent component,\n     * or the given fallback value if the context does not exist.\n     *\n     * Must be called during component initialisation.\n     */\n    getOr(fallback) {\n        const context = getContext(this.#key);\n        if (context === undefined) {\n            return fallback;\n        }\n        return context;\n    }\n    /**\n     * Associates the given value with the current component and returns it.\n     *\n     * Must be called during component initialisation.\n     */\n    set(context) {\n        return setContext(this.#key, context);\n    }\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\n/**\n * Function that takes a callback, and returns a debounced version of it.\n * When calling the debounced function, it will wait for the specified time\n * before calling the original callback. If the debounced function is called\n * again before the time has passed, the timer will be reset.\n *\n * You can await the debounced function to get the value when it is eventually\n * called.\n *\n * The second parameter is the time to wait before calling the original callback.\n * Alternatively, it can also be a getter function that returns the time to wait.\n *\n * @see {@link https://runed.dev/docs/utilities/use-debounce}\n *\n * @param callback The callback to call when the time has passed.\n * @param wait The length of time to wait in ms, defaults to 250.\n */\nexport function useDebounce(callback, wait) {\n    let context = $state(null);\n    const wait$ = $derived(extract(wait, 250));\n    function debounced(...args) {\n        if (context) {\n            // Old context will be reused so callers awaiting the promise will get the\n            // new value\n            if (context.timeout) {\n                clearTimeout(context.timeout);\n            }\n        }\n        else {\n            // No old context, create a new one\n            let resolve;\n            let reject;\n            const promise = new Promise((res, rej) => {\n                resolve = res;\n                reject = rej;\n            });\n            context = {\n                timeout: null,\n                runner: null,\n                promise,\n                resolve: resolve,\n                reject: reject,\n            };\n        }\n        context.runner = async () => {\n            // Grab the context and reset it\n            // -> new debounced calls will create a new context\n            if (!context)\n                return;\n            const ctx = context;\n            context = null;\n            try {\n                ctx.resolve(await callback.apply(this, args));\n            }\n            catch (error) {\n                ctx.reject(error);\n            }\n        };\n        context.timeout = setTimeout(context.runner, wait$);\n        return context.promise;\n    }\n    debounced.cancel = async () => {\n        if (!context || context.timeout === null) {\n            // Wait one event loop to see if something triggered the debounced function\n            await new Promise((resolve) => setTimeout(resolve, 0));\n            if (!context || context.timeout === null)\n                return;\n        }\n        clearTimeout(context.timeout);\n        context.reject(\"Cancelled\");\n        context = null;\n    };\n    debounced.runScheduledNow = async () => {\n        if (!context || !context.timeout) {\n            // Wait one event loop to see if something triggered the debounced function\n            await new Promise((resolve) => setTimeout(resolve, 0));\n            if (!context || !context.timeout)\n                return;\n        }\n        clearTimeout(context.timeout);\n        context.timeout = null;\n        await context.runner?.();\n    };\n    Object.defineProperty(debounced, \"pending\", {\n        enumerable: true,\n        get() {\n            return !!context?.timeout;\n        },\n    });\n    return debounced;\n}\n", "import { untrack } from \"svelte\";\nfunction runEffect(flush, effect) {\n    switch (flush) {\n        case \"post\":\n            $effect(effect);\n            break;\n        case \"pre\":\n            $effect.pre(effect);\n            break;\n    }\n}\nfunction runWatcher(sources, flush, effect, options = {}) {\n    const { lazy = false } = options;\n    // Run the effect immediately if `lazy` is `false`.\n    let active = !lazy;\n    // On the first run, if the dependencies are an array, pass an empty array\n    // to the previous value instead of `undefined` to allow destructuring.\n    //\n    // watch(() => [a, b], ([a, b], [prevA, prevB]) => { ... });\n    let previousValues = Array.isArray(sources)\n        ? []\n        : undefined;\n    runEffect(flush, () => {\n        const values = Array.isArray(sources) ? sources.map((source) => source()) : sources();\n        if (!active) {\n            active = true;\n            previousValues = values;\n            return;\n        }\n        const cleanup = untrack(() => effect(values, previousValues));\n        previousValues = values;\n        return cleanup;\n    });\n}\nfunction runWatcherOnce(sources, flush, effect) {\n    const cleanupRoot = $effect.root(() => {\n        let stop = false;\n        runWatcher(sources, flush, (values, previousValues) => {\n            if (stop) {\n                cleanupRoot();\n                return;\n            }\n            // Since `lazy` is `true`, `previousValues` is always defined.\n            const cleanup = effect(values, previousValues);\n            stop = true;\n            return cleanup;\n        }, \n        // Running the effect immediately just once makes no sense at all.\n        // That's just `onMount` with extra steps.\n        { lazy: true });\n    });\n    $effect(() => {\n        return cleanupRoot;\n    });\n}\nexport function watch(sources, effect, options) {\n    runWatcher(sources, \"post\", effect, options);\n}\nfunction watchPre(sources, effect, options) {\n    runWatcher(sources, \"pre\", effect, options);\n}\nwatch.pre = watchPre;\nexport function watchOnce(source, effect) {\n    runWatcherOnce(source, \"post\", effect);\n}\nfunction watchOncePre(source, effect) {\n    runWatcherOnce(source, \"pre\", effect);\n}\nwatchOnce.pre = watchOncePre;\n", "export function noop() { }\n", "import { useDebounce } from \"../use-debounce/use-debounce.svelte.js\";\nimport { watch } from \"../watch/watch.svelte.js\";\nimport { noop } from \"../../internal/utils/function.js\";\n/**\n * A wrapper over {@link useDebounce} that creates a debounced state.\n * It takes a \"getter\" function which returns the state you want to debounce.\n * Every time this state changes a timer (re)starts, the length of which is\n * configurable with the `wait` arg. When the timer ends the `current` value\n * is updated.\n *\n * @see https://runed.dev/docs/utilities/debounced\n *\n * @example\n *\n * <script lang=\"ts\">\n *   import { Debounced } from \"runed\";\n *\n *   let search = $state(\"\");\n *   const debounced = new Debounced(() => search, 500);\n * </script>\n *\n * <div>\n *   <input bind:value={search} />\n *   <p>You searched for: <b>{debounced.current}</b></p>\n * </div>\n */\nexport class Debounced {\n    #current = $state();\n    #debounceFn;\n    /**\n     * @param getter A function that returns the state to watch.\n     * @param wait The length of time to wait in ms, defaults to 250.\n     */\n    constructor(getter, wait = 250) {\n        this.#current = getter(); // immediately set the initial value\n        this.cancel = this.cancel.bind(this);\n        this.setImmediately = this.setImmediately.bind(this);\n        this.updateImmediately = this.updateImmediately.bind(this);\n        this.#debounceFn = useDebounce(() => {\n            this.#current = getter();\n        }, wait);\n        watch(getter, () => {\n            this.#debounceFn().catch(noop);\n        });\n    }\n    // isn't the name \"current\" slightly misleading? it sounds like the latest, raw value\n    /**\n     * Get the debounced value.\n     */\n    get current() {\n        return this.#current;\n    }\n    /**\n     * Whether a timer is currently pending.\n     */\n    get pending() {\n        return this.#debounceFn.pending;\n    }\n    /**\n     * Cancel the latest timer.\n     */\n    cancel() {\n        this.#debounceFn.cancel();\n    }\n    /**\n     * Run the debounced function immediately.\n     */\n    updateImmediately() {\n        return this.#debounceFn.runScheduledNow();\n    }\n    /**\n     * Set the `current` value without waiting.\n     */\n    setImmediately(v) {\n        this.cancel();\n        this.#current = v;\n    }\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\nimport { defaultWindow } from \"../../internal/configurable-globals.js\";\n/**\n * Watch for changes being made to the DOM tree.\n *\n * @see https://runed.dev/docs/utilities/useMutationObserver\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver MutationObserver MDN\n */\nexport function useMutationObserver(target, callback, options = {}) {\n    const { window = defaultWindow } = options;\n    let observer;\n    const targets = $derived.by(() => {\n        const value = extract(target);\n        return new Set(value ? (Array.isArray(value) ? value : [value]) : []);\n    });\n    const stop = $effect.root(() => {\n        $effect(() => {\n            if (!targets.size || !window)\n                return;\n            observer = new window.MutationObserver(callback);\n            for (const el of targets)\n                observer.observe(el, options);\n            return () => {\n                observer?.disconnect();\n                observer = undefined;\n            };\n        });\n    });\n    $effect(() => {\n        return stop;\n    });\n    return {\n        stop,\n        takeRecords() {\n            return observer?.takeRecords();\n        },\n    };\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\nimport { defaultWindow } from \"../../internal/configurable-globals.js\";\n/**\n * Reports changes to the dimensions of an Element's content or the border-box\n *\n * @see https://runed.dev/docs/utilities/useResizeObserver\n */\nexport function useResizeObserver(target, callback, options = {}) {\n    const { window = defaultWindow } = options;\n    let observer;\n    const targets = $derived.by(() => {\n        const value = extract(target);\n        return new Set(value ? (Array.isArray(value) ? value : [value]) : []);\n    });\n    const stop = $effect.root(() => {\n        $effect(() => {\n            if (!targets.size || !window)\n                return;\n            observer = new window.ResizeObserver(callback);\n            for (const el of targets)\n                observer.observe(el, options);\n            return () => {\n                observer?.disconnect();\n                observer = undefined;\n            };\n        });\n    });\n    $effect(() => {\n        return stop;\n    });\n    return {\n        stop,\n    };\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\nimport { useMutationObserver } from \"../use-mutation-observer/use-mutation-observer.svelte.js\";\nimport { useResizeObserver } from \"../use-resize-observer/use-resize-observer.svelte.js\";\n/**\n * Returns a reactive value holding the size of `node`.\n *\n * Accepts an `options` object with the following properties:\n * - `initialSize`: The initial size of the element. Defaults to `{ width: 0, height: 0 }`.\n * - `box`: The box model to use. Can be either `\"content-box\"` or `\"border-box\"`. Defaults to `\"border-box\"`.\n *\n * @returns an object with `width` and `height` properties.\n *\n * @see {@link https://runed.dev/docs/utilities/element-size}\n */\nexport class ElementRect {\n    #rect = $state({\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n    });\n    constructor(node, options = {}) {\n        this.#rect = {\n            width: options.initialRect?.width ?? 0,\n            height: options.initialRect?.height ?? 0,\n            x: options.initialRect?.x ?? 0,\n            y: options.initialRect?.y ?? 0,\n            top: options.initialRect?.top ?? 0,\n            right: options.initialRect?.right ?? 0,\n            bottom: options.initialRect?.bottom ?? 0,\n            left: options.initialRect?.left ?? 0,\n        };\n        const el = $derived(extract(node));\n        const update = () => {\n            if (!el)\n                return;\n            const rect = el.getBoundingClientRect();\n            this.#rect.width = rect.width;\n            this.#rect.height = rect.height;\n            this.#rect.x = rect.x;\n            this.#rect.y = rect.y;\n            this.#rect.top = rect.top;\n            this.#rect.right = rect.right;\n            this.#rect.bottom = rect.bottom;\n            this.#rect.left = rect.left;\n        };\n        useResizeObserver(() => el, update, { window: options.window });\n        $effect(update);\n        useMutationObserver(() => el, update, {\n            attributeFilter: [\"style\", \"class\"],\n            window: options.window,\n        });\n    }\n    get x() {\n        return this.#rect.x;\n    }\n    get y() {\n        return this.#rect.y;\n    }\n    get width() {\n        return this.#rect.width;\n    }\n    get height() {\n        return this.#rect.height;\n    }\n    get top() {\n        return this.#rect.top;\n    }\n    get right() {\n        return this.#rect.right;\n    }\n    get bottom() {\n        return this.#rect.bottom;\n    }\n    get left() {\n        return this.#rect.left;\n    }\n    get current() {\n        return this.#rect;\n    }\n}\n", "import { isFunction } from \"./is.js\";\nexport function get(value) {\n    if (isFunction(value)) {\n        return value();\n    }\n    return value;\n}\n", "import { defaultWindow } from \"../../internal/configurable-globals.js\";\nimport { get } from \"../../internal/utils/get.js\";\nimport { createSubscriber } from \"svelte/reactivity\";\n/**\n * Returns a reactive value holding the size of `node`.\n *\n * Accepts an `options` object with the following properties:\n * - `initialSize`: The initial size of the element. Defaults to `{ width: 0, height: 0 }`.\n * - `box`: The box model to use. Can be either `\"content-box\"` or `\"border-box\"`. Defaults to `\"border-box\"`.\n *\n * @returns an object with `width` and `height` properties.\n *\n * @see {@link https://runed.dev/docs/utilities/element-size}\n */\nexport class ElementSize {\n    // no need to use `$state` here since we are using createSubscriber\n    #size = {\n        width: 0,\n        height: 0,\n    };\n    #observed = false;\n    #options;\n    #node;\n    #window;\n    // we use a derived here to extract the width so that if the width doesn't change we don't get a state update\n    // which we would get if we would just use a getter since the version of the subscriber will be changing\n    #width = $derived.by(() => {\n        this.#subscribe?.();\n        return this.getSize().width;\n    });\n    // we use a derived here to extract the height so that if the height doesn't change we don't get a state update\n    // which we would get if we would just use a getter since the version of the subscriber will be changing\n    #height = $derived.by(() => {\n        this.#subscribe?.();\n        return this.getSize().height;\n    });\n    // we need to use a derived here because the class will be created before the node is bound to the ref\n    #subscribe = $derived.by(() => {\n        const node$ = get(this.#node);\n        if (!node$)\n            return;\n        return createSubscriber((update) => {\n            if (!this.#window)\n                return;\n            const observer = new this.#window.ResizeObserver((entries) => {\n                this.#observed = true;\n                for (const entry of entries) {\n                    const boxSize = this.#options.box === \"content-box\" ? entry.contentBoxSize : entry.borderBoxSize;\n                    const boxSizeArr = Array.isArray(boxSize) ? boxSize : [boxSize];\n                    this.#size.width = boxSizeArr.reduce((acc, size) => Math.max(acc, size.inlineSize), 0);\n                    this.#size.height = boxSizeArr.reduce((acc, size) => Math.max(acc, size.blockSize), 0);\n                }\n                update();\n            });\n            observer.observe(node$);\n            return () => {\n                this.#observed = false;\n                observer.disconnect();\n            };\n        });\n    });\n    constructor(node, options = { box: \"border-box\" }) {\n        this.#window = options.window ?? defaultWindow;\n        this.#options = options;\n        this.#node = node;\n        this.#size = {\n            width: 0,\n            height: 0,\n        };\n    }\n    calculateSize() {\n        const element = get(this.#node);\n        // no element or no window, return undefined, we will return 0x0 in the getSize method\n        if (!element || !this.#window) {\n            return;\n        }\n        const offsetWidth = element.offsetWidth;\n        const offsetHeight = element.offsetHeight;\n        // easy mode, just return offsets\n        if (this.#options.box === \"border-box\") {\n            return {\n                width: offsetWidth,\n                height: offsetHeight,\n            };\n        }\n        // hard mode, we need to calculate the content size\n        const style = this.#window.getComputedStyle(element);\n        const paddingWidth = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n        const paddingHeight = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom);\n        const borderWidth = parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);\n        const borderHeight = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n        const contentWidth = offsetWidth - paddingWidth - borderWidth;\n        const contentHeight = offsetHeight - paddingHeight - borderHeight;\n        return {\n            width: contentWidth,\n            height: contentHeight,\n        };\n    }\n    getSize() {\n        // if the resize observer already run we can just return the size\n        // otherwise we calculate the size if possible or we return the initial size\n        return this.#observed ? this.#size : (this.calculateSize() ?? this.#size);\n    }\n    get current() {\n        this.#subscribe?.();\n        return this.getSize();\n    }\n    get width() {\n        return this.#width;\n    }\n    get height() {\n        return this.#height;\n    }\n}\n", "export function isLifecycleFnMeta(meta) {\n    return (!!meta &&\n        typeof meta === \"object\" &&\n        \"to\" in meta &&\n        \"from\" in meta &&\n        \"event\" in meta &&\n        \"args\" in meta);\n}\n/**\n * Defines a strongly-typed finite state machine.\n *\n * @see {@link https://runed.dev/docs/utilities/finite-state-machine}\n */\nexport class FiniteStateMachine {\n    #current = $state();\n    states;\n    #timeout = {};\n    constructor(initial, states) {\n        this.#current = initial;\n        this.states = states;\n        this.send = this.send.bind(this);\n        this.debounce = this.debounce.bind(this);\n        // synthetically trigger _enter for the initial state.\n        this.#dispatch(\"_enter\", { from: null, to: initial, event: null, args: [] });\n    }\n    #transition(newState, event, args) {\n        const metadata = { from: this.#current, to: newState, event, args };\n        this.#dispatch(\"_exit\", metadata);\n        this.#current = newState;\n        this.#dispatch(\"_enter\", metadata);\n    }\n    #dispatch(event, ...args) {\n        const action = this.states[this.#current]?.[event] ?? this.states[\"*\"]?.[event];\n        if (action instanceof Function) {\n            if (event === \"_enter\" || event === \"_exit\") {\n                if (isLifecycleFnMeta(args[0])) {\n                    action(args[0]);\n                }\n                else {\n                    console.warn(\"Invalid metadata passed to lifecycle function of the FSM.\");\n                }\n            }\n            else {\n                return action(...args);\n            }\n        }\n        else if (typeof action === \"string\") {\n            return action;\n        }\n        else if (event !== \"_enter\" && event !== \"_exit\") {\n            console.warn(\"No action defined for event\", event, \"in state\", this.#current);\n        }\n    }\n    /** Triggers a new event and returns the new state. */\n    send(event, ...args) {\n        const newState = this.#dispatch(event, ...args);\n        if (newState && newState !== this.#current) {\n            this.#transition(newState, event, args);\n        }\n        return this.#current;\n    }\n    /** Debounces the triggering of an event. */\n    async debounce(wait = 500, event, ...args) {\n        if (this.#timeout[event]) {\n            clearTimeout(this.#timeout[event]);\n        }\n        return new Promise((resolve) => {\n            this.#timeout[event] = setTimeout(() => {\n                delete this.#timeout[event];\n                resolve(this.send(event, ...args));\n            }, wait);\n        });\n    }\n    /** The current state. */\n    get current() {\n        return this.#current;\n    }\n}\n", "import { ActiveElement, } from \"../active-element/active-element.svelte.js\";\nimport { extract } from \"../extract/extract.svelte.js\";\n/**\n * Tracks whether the focus is within a target element.\n * @see {@link https://runed.dev/docs/utilities/is-focus-within}\n */\nexport class IsFocusWithin {\n    #node;\n    #activeElement;\n    constructor(node, options = {}) {\n        this.#node = node;\n        this.#activeElement = new ActiveElement(options);\n    }\n    current = $derived.by(() => {\n        const node = extract(this.#node);\n        if (node == null)\n            return false;\n        return node.contains(this.#activeElement.current);\n    });\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\nimport { on } from \"svelte/events\";\nexport function useEventListener(_target, _events, handler, options) {\n    $effect(() => {\n        const target = extract(_target);\n        if (target == null)\n            return;\n        const events = extract(_events);\n        if (Array.isArray(events)) {\n            for (const event of events) {\n                $effect(() => on(target, event, handler, options));\n            }\n        }\n        else {\n            return on(target, events, handler, options);\n        }\n    });\n}\n", "import { extract } from \"../extract/index.js\";\nimport { useDebounce } from \"../use-debounce/index.js\";\nimport { useEventListener } from \"../use-event-listener/use-event-listener.svelte.js\";\nimport { defaultWindow, } from \"../../internal/configurable-globals.js\";\nconst DEFAULT_EVENTS = [\n    \"keypress\",\n    \"mousemove\",\n    \"touchmove\",\n    \"click\",\n    \"scroll\",\n];\nconst DEFAULT_OPTIONS = {\n    events: DEFAULT_EVENTS,\n    initialState: false,\n    timeout: 60000,\n    trackLastActive: true,\n};\n/**\n * Tracks whether the user is being inactive.\n * @see {@link https://runed.dev/docs/utilities/is-idle}\n */\nexport class IsIdle {\n    #current = $state(false);\n    #lastActive = $state(Date.now());\n    constructor(_options) {\n        const opts = {\n            ...DEFAULT_OPTIONS,\n            ..._options,\n        };\n        const window = opts.window ?? defaultWindow;\n        const document = opts.document ?? window?.document;\n        const timeout = $derived(extract(opts.timeout));\n        const events = $derived(extract(opts.events));\n        const detectVisibilityChanges = $derived(extract(opts.detectVisibilityChanges));\n        const trackLastActive = $derived(extract(opts.trackLastActive));\n        this.#current = opts.initialState;\n        const debouncedReset = useDebounce(() => {\n            this.#current = true;\n        }, () => timeout);\n        debouncedReset();\n        const handleActivity = () => {\n            this.#current = false;\n            if (trackLastActive) {\n                this.#lastActive = Date.now();\n            }\n            debouncedReset();\n        };\n        useEventListener(() => window, () => events, () => {\n            handleActivity();\n        }, { passive: true });\n        $effect(() => {\n            if (!detectVisibilityChanges || !document)\n                return;\n            useEventListener(document, [\"visibilitychange\"], () => {\n                if (document.hidden)\n                    return;\n                handleActivity();\n            });\n        });\n    }\n    get lastActive() {\n        return this.#lastActive;\n    }\n    get current() {\n        return this.#current;\n    }\n}\n", "import { extract } from \"../extract/extract.svelte.js\";\nimport { get } from \"../../internal/utils/get.js\";\nimport { defaultWindow } from \"../../internal/configurable-globals.js\";\n/**\n * Watch for intersection changes of a target element.\n *\n * @see https://runed.dev/docs/utilities/useIntersectionObserver\n * @see https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserver IntersectionObserver MDN\n */\nexport function useIntersectionObserver(target, callback, options = {}) {\n    const { root, rootMargin = \"0px\", threshold = 0.1, immediate = true, window = defaultWindow, } = options;\n    let isActive = $state(immediate);\n    let observer;\n    const targets = $derived.by(() => {\n        const value = extract(target);\n        return new Set(value ? (Array.isArray(value) ? value : [value]) : []);\n    });\n    const stop = $effect.root(() => {\n        $effect(() => {\n            if (!targets.size || !isActive || !window)\n                return;\n            observer = new window.IntersectionObserver(callback, {\n                rootMargin,\n                root: get(root),\n                threshold,\n            });\n            for (const el of targets)\n                observer.observe(el);\n            return () => {\n                observer?.disconnect();\n            };\n        });\n    });\n    $effect(() => {\n        return stop;\n    });\n    return {\n        get isActive() {\n            return isActive;\n        },\n        stop,\n        pause() {\n            isActive = false;\n        },\n        resume() {\n            isActive = true;\n        },\n    };\n}\n", "import { useIntersectionObserver, } from \"../use-intersection-observer/use-intersection-observer.svelte.js\";\n/**\n * Tracks if an element is visible within the current viewport.\n *\n * @see {@link https://runed.dev/docs/utilities/is-in-viewport}\n */\nexport class IsInViewport {\n    #isInViewport = $state(false);\n    constructor(node, options) {\n        useIntersectionObserver(node, (intersectionObserverEntries) => {\n            let isIntersecting = this.#isInViewport;\n            let latestTime = 0;\n            for (const entry of intersectionObserverEntries) {\n                if (entry.time >= latestTime) {\n                    latestTime = entry.time;\n                    isIntersecting = entry.isIntersecting;\n                }\n            }\n            this.#isInViewport = isIntersecting;\n        }, options);\n    }\n    get current() {\n        return this.#isInViewport;\n    }\n}\n", "import { untrack } from \"svelte\";\n/**\n * Returns an object with the mounted state of the component\n * that invokes this function.\n *\n * @see {@link https://runed.dev/docs/utilities/is-mounted}\n */\nexport class IsMounted {\n    #isMounted = $state(false);\n    constructor() {\n        $effect(() => {\n            untrack(() => (this.#isMounted = true));\n            return () => {\n                this.#isMounted = false;\n            };\n        });\n    }\n    get current() {\n        return this.#isMounted;\n    }\n}\n", "import { defaultWindow, } from \"../../internal/configurable-globals.js\";\nimport { on } from \"svelte/events\";\n/**\n * Tracks whether the current document is visible (i.e., not hidden).\n * It listens to the \"visibilitychange\" event and updates reactively.\n *\n * @see {@link https://developer.mozilla.org/docs/Web/API/Document/visibilitychange_event}\n * @see {@link https://runed.dev/docs/utilities/is-document-visible}\n */\nexport class IsDocumentVisible {\n    #visible = $state(false);\n    constructor(options = {}) {\n        const window = options.window ?? defaultWindow;\n        const document = options.document ?? window?.document;\n        this.#visible = document ? !document.hidden : false;\n        $effect(() => {\n            if (!document)\n                return;\n            return on(document, \"visibilitychange\", () => {\n                this.#visible = !document.hidden;\n            });\n        });\n    }\n    get current() {\n        return this.#visible;\n    }\n}\n", "export async function sleep(ms = 0) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n", "import { defaultWindow, } from \"../../internal/configurable-globals.js\";\nimport { getActiveElement, getOwnerDocument, isOrContainsTarget } from \"../../internal/utils/dom.js\";\nimport { noop } from \"../../internal/utils/function.js\";\nimport { isElement } from \"../../internal/utils/is.js\";\nimport { sleep } from \"../../internal/utils/sleep.js\";\nimport { on } from \"svelte/events\";\nimport { extract } from \"../extract/extract.svelte.js\";\nimport { useDebounce } from \"../use-debounce/use-debounce.svelte.js\";\nimport { watch } from \"../watch/watch.svelte.js\";\n/**\n * A utility that calls a given callback when a click event occurs outside of\n * a specified container element.\n *\n * @template T - The type of the container element, defaults to HTMLElement.\n * @param {MaybeElementGetter<T>} container - The container element or a getter function that returns the container element.\n * @param {() => void} callback - The callback function to call when a click event occurs outside of the container.\n * @param {OnClickOutsideOptions} [opts={}] - Optional configuration object.\n * @param {ConfigurableDocument} [opts.document=defaultDocument] - The document object to use, defaults to the global document.\n * @param {boolean} [opts.immediate=true] - Whether the click outside handler is enabled by default or not.\n * @param {boolean} [opts.detectIframe=false] - Controls whether focus events from iframes trigger the callback.\n *\n * @example\n * ```svelte\n * <script>\n *   import { onClickOutside } from 'runed'\n *   let container = $state<HTMLElement>()!\n *\n *   const clickOutside = onClickOutside(() => container, () => {\n *     console.log('clicked outside the container!')\n *   });\n * </script>\n *\n * <div bind:this={container}>\n *  <span>Inside</span>\n * </div>\n * <button>Outside, click me to trigger callback</button>\n * <button onclick={clickOutside.start}>Start</button>\n * <button onclick={clickOutside.stop}>Stop</button>\n * <span>Enabled: {clickOutside.enabled}</span>\n *```\n * @see {@link https://runed.dev/docs/utilities/on-click-outside}\n */\nexport function onClickOutside(container, callback, opts = {}) {\n    const { window = defaultWindow, immediate = true, detectIframe = false } = opts;\n    const document = opts.document ?? window?.document;\n    const node = $derived(extract(container));\n    const nodeOwnerDocument = $derived(getOwnerDocument(node, document));\n    let enabled = $state(immediate);\n    let pointerDownIntercepted = false;\n    let removeClickListener = noop;\n    let removeListeners = noop;\n    const handleClickOutside = useDebounce((e) => {\n        if (!node || !nodeOwnerDocument) {\n            removeClickListener();\n            return;\n        }\n        if (pointerDownIntercepted === true || !isValidEvent(e, node, nodeOwnerDocument)) {\n            removeClickListener();\n            return;\n        }\n        if (e.pointerType === \"touch\") {\n            /**\n             * If the pointer type is touch, we add a listener to wait for the click\n             * event that will follow the pointerdown event if the user interacts in a way\n             * that would trigger a click event.\n             *\n             * This prevents us from prematurely calling the callback if the user is simply\n             * scrolling or dragging the page.\n             */\n            removeClickListener();\n            removeClickListener = on(nodeOwnerDocument, \"click\", () => callback(e), {\n                once: true,\n            });\n        }\n        else {\n            /**\n             * If the pointer type is not touch, we can directly call the callback function\n             * as the interaction is likely a mouse or pen input which does not require\n             * additional handling.\n             */\n            callback(e);\n        }\n    }, 10);\n    function addListeners() {\n        if (!nodeOwnerDocument || !window || !node)\n            return noop;\n        const events = [\n            /**\n             * CAPTURE INTERACTION START\n             * Mark the pointerdown event as intercepted to indicate that an interaction\n             * has started. This helps in distinguishing between valid and invalid events.\n             */\n            on(nodeOwnerDocument, \"pointerdown\", (e) => {\n                if (isValidEvent(e, node, nodeOwnerDocument)) {\n                    pointerDownIntercepted = true;\n                }\n            }, { capture: true }),\n            /**\n             * BUBBLE INTERACTION START\n             * Mark the pointerdown event as non-intercepted. Debounce `handleClickOutside` to\n             * avoid prematurely checking if other events were intercepted.\n             */\n            on(nodeOwnerDocument, \"pointerdown\", (e) => {\n                pointerDownIntercepted = false;\n                handleClickOutside(e);\n            }),\n        ];\n        if (detectIframe) {\n            events.push(\n            /**\n             * DETECT IFRAME INTERACTIONS\n             *\n             * We add a blur event listener to the window to detect when the user\n             * interacts with an iframe. If the active element is an iframe and it\n             * is not a descendant of the container, we call the callback function.\n             */\n            on(window, \"blur\", async (e) => {\n                await sleep();\n                const activeElement = getActiveElement(nodeOwnerDocument);\n                if (activeElement?.tagName === \"IFRAME\" && !isOrContainsTarget(node, activeElement)) {\n                    callback(e);\n                }\n            }));\n        }\n        return () => {\n            for (const event of events) {\n                event();\n            }\n        };\n    }\n    function cleanup() {\n        pointerDownIntercepted = false;\n        handleClickOutside.cancel();\n        removeClickListener();\n        removeListeners();\n    }\n    watch([() => enabled, () => node], ([enabled$, node$]) => {\n        if (enabled$ && node$) {\n            removeListeners();\n            removeListeners = addListeners();\n        }\n        else {\n            cleanup();\n        }\n    });\n    $effect(() => {\n        return () => {\n            cleanup();\n        };\n    });\n    return {\n        /** Stop listening for click events outside the container. */\n        stop: () => (enabled = false),\n        /** Start listening for click events outside the container. */\n        start: () => (enabled = true),\n        /** Whether the click outside handler is currently enabled or not. */\n        get enabled() {\n            return enabled;\n        },\n    };\n}\nfunction isValidEvent(e, container, defaultDocument) {\n    if (\"button\" in e && e.button > 0)\n        return false;\n    const target = e.target;\n    if (!isElement(target))\n        return false;\n    const ownerDocument = getOwnerDocument(target, defaultDocument);\n    if (!ownerDocument)\n        return false;\n    // handle the case where a user may have pressed a pseudo element by\n    // checking the bounding rect of the container\n    if (target === container) {\n        const rect = container.getBoundingClientRect();\n        const wasInsideClick = rect.top <= e.clientY &&\n            e.clientY <= rect.top + rect.height &&\n            rect.left <= e.clientX &&\n            e.clientX <= rect.left + rect.width;\n        return !wasInsideClick;\n    }\n    return ownerDocument.documentElement.contains(target) && !isOrContainsTarget(container, target);\n}\n", "import { defaultWindow } from \"../../internal/configurable-globals.js\";\nimport { on } from \"svelte/events\";\nimport { createSubscriber } from \"svelte/reactivity\";\nfunction getStorage(storageType, window) {\n    switch (storageType) {\n        case \"local\":\n            return window.localStorage;\n        case \"session\":\n            return window.sessionStorage;\n    }\n}\nfunction proxy(value, root, proxies, subscribe, update, serialize) {\n    if (value === null || typeof value !== \"object\") {\n        return value;\n    }\n    const proto = Object.getPrototypeOf(value);\n    if (proto !== null && proto !== Object.prototype && !Array.isArray(value)) {\n        return value;\n    }\n    let p = proxies.get(value);\n    if (!p) {\n        p = new Proxy(value, {\n            get: (target, property) => {\n                subscribe?.();\n                return proxy(Reflect.get(target, property), root, proxies, subscribe, update, serialize);\n            },\n            set: (target, property, value) => {\n                update?.();\n                Reflect.set(target, property, value);\n                serialize(root);\n                return true;\n            },\n        });\n        proxies.set(value, p);\n    }\n    return p;\n}\n/**\n * Creates reactive state that is persisted and synchronized across browser sessions and tabs using Web Storage.\n * @param key The unique key used to store the state in the storage.\n * @param initialValue The initial value of the state if not already present in the storage.\n * @param options Configuration options including storage type, serializer for complex data types, and whether to sync state changes across tabs.\n *\n * @see {@link https://runed.dev/docs/utilities/persisted-state}\n */\nexport class PersistedState {\n    #current;\n    #key;\n    #serializer;\n    #storage;\n    #subscribe;\n    #update;\n    #proxies = new WeakMap();\n    constructor(key, initialValue, options = {}) {\n        const { storage: storageType = \"local\", serializer = { serialize: JSON.stringify, deserialize: JSON.parse }, syncTabs = true, } = options;\n        const window = \"window\" in options ? options.window : defaultWindow; // window is not mockable to be undefined without this, because JavaScript will fill undefined with `= default`\n        this.#current = initialValue;\n        this.#key = key;\n        this.#serializer = serializer;\n        if (window === undefined)\n            return;\n        const storage = getStorage(storageType, window);\n        this.#storage = storage;\n        const existingValue = storage.getItem(key);\n        if (existingValue !== null) {\n            this.#current = this.#deserialize(existingValue);\n        }\n        else {\n            this.#serialize(initialValue);\n        }\n        this.#subscribe = createSubscriber((update) => {\n            this.#update = update;\n            const cleanup = syncTabs && storageType === \"local\"\n                ? on(window, \"storage\", this.#handleStorageEvent)\n                : null;\n            return () => {\n                cleanup?.();\n                this.#update = undefined;\n            };\n        });\n    }\n    get current() {\n        this.#subscribe?.();\n        const storageItem = this.#storage?.getItem(this.#key);\n        const root = storageItem ? this.#deserialize(storageItem) : this.#current;\n        return proxy(root, root, this.#proxies, this.#subscribe?.bind(this), this.#update?.bind(this), this.#serialize.bind(this));\n    }\n    set current(newValue) {\n        this.#serialize(newValue);\n        this.#update?.();\n    }\n    #handleStorageEvent = (event) => {\n        if (event.key !== this.#key || event.newValue === null)\n            return;\n        this.#current = this.#deserialize(event.newValue);\n        this.#update?.();\n    };\n    #deserialize(value) {\n        try {\n            return this.#serializer.deserialize(value);\n        }\n        catch (error) {\n            console.error(`Error when parsing \"${value}\" from persisted store \"${this.#key}\"`, error);\n            return;\n        }\n    }\n    #serialize(value) {\n        try {\n            if (value != undefined) {\n                this.#storage?.setItem(this.#key, this.#serializer.serialize(value));\n            }\n        }\n        catch (error) {\n            console.error(`Error when writing value from persisted store \"${this.#key}\" to ${this.#storage}`, error);\n        }\n    }\n}\n", "import { on } from \"svelte/events\";\nimport { createSubscriber } from \"svelte/reactivity\";\nimport { watch } from \"../watch/index.js\";\nimport { defaultWindow } from \"../../internal/configurable-globals.js\";\nconst modifierKeys = [\"meta\", \"control\", \"alt\", \"shift\"];\n/**\n * Tracks which keys are currently pressed.\n *\n * @see {@link https://runed.dev/docs/utilities/pressed-keys}\n */\nexport class PressedKeys {\n    #pressedKeys = $state([]);\n    #subscribe;\n    constructor(options = {}) {\n        const { window = defaultWindow } = options;\n        this.has = this.has.bind(this);\n        if (!window)\n            return;\n        this.#subscribe = createSubscriber((update) => {\n            const keydown = on(window, \"keydown\", (e) => {\n                const key = e.key.toLowerCase();\n                if (!this.#pressedKeys.includes(key)) {\n                    this.#pressedKeys.push(key);\n                }\n                update();\n            });\n            const keyup = on(window, \"keyup\", (e) => {\n                const key = e.key.toLowerCase();\n                // Special handling for modifier keys (meta, control, alt, shift)\n                // This addresses issues with OS/browser intercepting certain key combinations\n                // where non-modifier keyup events might not fire properly\n                if (modifierKeys.includes(key)) {\n                    // When a modifier key is released, clear all non-modifier keys\n                    // but keep other modifier keys that might still be pressed\n                    // This prevents keys from getting \"stuck\" in the pressed state\n                    this.#pressedKeys = this.#pressedKeys.filter((k) => modifierKeys.includes(k));\n                }\n                // Regular key removal\n                this.#pressedKeys = this.#pressedKeys.filter((k) => k !== key);\n                update();\n            });\n            // Handle window blur events (switching applications, clicking outside browser)\n            // Reset all keys when user shifts focus away from the window\n            const blur = on(window, \"blur\", () => {\n                this.#pressedKeys = [];\n                update();\n            });\n            // Handle tab visibility changes (switching browser tabs)\n            // This catches cases where the window doesn't lose focus but the tab is hidden\n            const visibilityChange = on(document, \"visibilitychange\", () => {\n                if (document.visibilityState === \"hidden\") {\n                    this.#pressedKeys = [];\n                    update();\n                }\n            });\n            return () => {\n                keydown();\n                keyup();\n                blur();\n                visibilityChange();\n            };\n        });\n    }\n    has(...keys) {\n        this.#subscribe?.();\n        const normalizedKeys = keys.map((key) => key.toLowerCase());\n        return normalizedKeys.every((key) => this.#pressedKeys.includes(key));\n    }\n    get all() {\n        this.#subscribe?.();\n        return this.#pressedKeys;\n    }\n    /**\n     * Registers a callback to execute when specified key combination is pressed.\n     *\n     * @param keys - Array or single string of keys to monitor\n     * @param callback - Function to execute when the key combination is matched\n     */\n    onKeys(keys, callback) {\n        this.#subscribe?.();\n        const keysToMonitor = Array.isArray(keys) ? keys : [keys];\n        watch(() => this.all, () => {\n            if (this.has(...keysToMonitor)) {\n                callback();\n            }\n        });\n    }\n}\n", "/**\n * Holds the previous value of a getter.\n *\n * @see {@link https://runed.dev/docs/utilities/previous}\n */\nexport class Previous {\n    #previousCallback = () => undefined;\n    #previous = $derived.by(() => this.#previousCallback());\n    constructor(getter, initialValue) {\n        let actualPrevious = undefined;\n        if (initialValue !== undefined)\n            actualPrevious = initialValue;\n        this.#previousCallback = () => {\n            try {\n                return actualPrevious;\n            }\n            finally {\n                actualPrevious = getter();\n            }\n        };\n    }\n    get current() {\n        return this.#previous;\n    }\n}\n", "import { watch } from \"../watch/index.js\";\n// Helper functions for debounce and throttle\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction debounce(fn, delay) {\n    let timeoutId;\n    let lastResolve = null;\n    return (...args) => {\n        return new Promise((resolve) => {\n            if (lastResolve) {\n                lastResolve(undefined);\n            }\n            lastResolve = resolve;\n            clearTimeout(timeoutId);\n            timeoutId = setTimeout(async () => {\n                const result = await fn(...args);\n                if (lastResolve) {\n                    lastResolve(result);\n                    lastResolve = null;\n                }\n            }, delay);\n        });\n    };\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction throttle(fn, delay) {\n    let lastRun = 0;\n    let lastPromise = null;\n    return (...args) => {\n        const now = Date.now();\n        if (lastRun && now - lastRun < delay) {\n            return lastPromise ?? Promise.resolve(undefined);\n        }\n        lastRun = now;\n        lastPromise = fn(...args);\n        return lastPromise;\n    };\n}\nfunction runResource(source, fetcher, options = {}, effectFn) {\n    const { lazy = false, once = false, initialValue, debounce: debounceTime, throttle: throttleTime, } = options;\n    // Create state\n    let current = $state(initialValue);\n    let loading = $state(false);\n    let error = $state(undefined);\n    let cleanupFns = $state([]);\n    // Helper function to run cleanup functions\n    const runCleanup = () => {\n        cleanupFns.forEach((fn) => fn());\n        cleanupFns = [];\n    };\n    // Helper function to register cleanup\n    const onCleanup = (fn) => {\n        cleanupFns = [...cleanupFns, fn];\n    };\n    // Create the base fetcher function\n    const baseFetcher = async (value, previousValue, refetching = false) => {\n        try {\n            loading = true;\n            error = undefined;\n            runCleanup();\n            // Create new AbortController for this fetch\n            const controller = new AbortController();\n            onCleanup(() => controller.abort());\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const result = await fetcher(value, previousValue, {\n                data: current,\n                refetching,\n                onCleanup,\n                signal: controller.signal,\n            });\n            current = result;\n            return result;\n        }\n        catch (e) {\n            if (!(e instanceof DOMException && e.name === \"AbortError\")) {\n                error = e;\n            }\n            return undefined;\n        }\n        finally {\n            loading = false;\n        }\n    };\n    // Apply debounce or throttle if specified\n    const runFetcher = debounceTime\n        ? debounce(baseFetcher, debounceTime)\n        : throttleTime\n            ? throttle(baseFetcher, throttleTime)\n            : baseFetcher;\n    // Setup effect\n    const sources = Array.isArray(source) ? source : [source];\n    let prevValues;\n    effectFn((values, previousValues) => {\n        // Skip if once and already ran\n        if (once && prevValues) {\n            return;\n        }\n        prevValues = values;\n        runFetcher(Array.isArray(source) ? values : values[0], Array.isArray(source) ? previousValues : previousValues?.[0]);\n    }, { lazy });\n    return {\n        get current() {\n            return current;\n        },\n        get loading() {\n            return loading;\n        },\n        get error() {\n            return error;\n        },\n        mutate: (value) => {\n            current = value;\n        },\n        refetch: (info) => {\n            const values = sources.map((s) => s());\n            return runFetcher(Array.isArray(source) ? values : values[0], Array.isArray(source) ? values : values[0], info ?? true);\n        },\n    };\n}\n// Implementation\nexport function resource(source, fetcher, options) {\n    return runResource(source, fetcher, options, (fn, options) => {\n        const sources = Array.isArray(source) ? source : [source];\n        const getters = () => sources.map((s) => s());\n        watch(getters, (values, previousValues) => {\n            fn(values, previousValues ?? []);\n        }, options);\n    });\n}\n// Implementation\nexport function resourcePre(source, fetcher, options) {\n    return runResource(source, fetcher, options, (fn, options) => {\n        const sources = Array.isArray(source) ? source : [source];\n        const getter = () => sources.map((s) => s());\n        watch.pre(getter, (values, previousValues) => {\n            fn(values, previousValues ?? []);\n        }, options);\n    });\n}\nresource.pre = resourcePre;\n", "import { AnimationFrames } from \"../animation-frames/index.js\";\nimport { useDebounce } from \"../use-debounce/index.js\";\nimport { useEventListener } from \"../use-event-listener/index.js\";\nimport { onMount } from \"svelte\";\nimport { extract } from \"../extract/extract.svelte.js\";\nimport { noop } from \"../../internal/utils/function.js\";\n/**\n * We have to check if the scroll amount is close enough to some threshold in order to\n * more accurately calculate arrivedState. This is because scrollTop/scrollLeft are non-rounded\n * numbers, while scrollHeight/scrollWidth and clientHeight/clientWidth are rounded.\n * https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#determine_if_an_element_has_been_totally_scrolled\n */\nconst ARRIVED_STATE_THRESHOLD_PIXELS = 1;\n/**\n * A reactive utility for tracking scroll position, direction,\n * and edge arrival states, while supporting programmatic scrolling.\n *\n * @see https://vueuse.org/useScroll for the inspiration behind this utility.\n * @param element\n * @param options\n */\nexport class ScrollState {\n    #options;\n    element = $derived(extract(this.#options.element));\n    idle = $derived.by(() => extract(this.#options?.idle, 200));\n    offset = $derived(extract(this.#options.offset, {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n    }));\n    onScroll = $derived(this.#options.onScroll ?? noop);\n    onStop = $derived(this.#options.onStop ?? noop);\n    eventListenerOptions = $derived(this.#options.eventListenerOptions ?? {\n        capture: false,\n        passive: true,\n    });\n    behavior = $derived(extract(this.#options.behavior, \"auto\"));\n    onError = $derived(this.#options.onError ??\n        ((e) => {\n            console.error(e);\n        }));\n    /** State */\n    internalX = $state(0);\n    internalY = $state(0);\n    // Use a get/set pair for x and y because we want to write the value to the refs\n    // during a `scrollTo()` without firing additional `scrollTo()`s in the process.\n    #x = $derived(this.internalX);\n    get x() {\n        return this.#x;\n    }\n    set x(v) {\n        this.scrollTo(v, undefined);\n    }\n    #y = $derived(this.internalY);\n    get y() {\n        return this.#y;\n    }\n    set y(v) {\n        this.scrollTo(undefined, v);\n    }\n    isScrolling = $state(false);\n    arrived = $state({\n        left: true,\n        right: false,\n        top: true,\n        bottom: false,\n    });\n    directions = $state({\n        left: false,\n        right: false,\n        top: false,\n        bottom: false,\n    });\n    progress = $state({\n        x: 0,\n        y: 0,\n    });\n    constructor(options) {\n        this.#options = options;\n        useEventListener(() => this.element, \"scroll\", this.#onScrollHandler, this.eventListenerOptions);\n        useEventListener(() => this.element, \"scrollend\", (e) => this.onScrollEnd(e), this.eventListenerOptions);\n        onMount(() => {\n            this.setArrivedState();\n        });\n        // overkill?\n        new AnimationFrames(() => this.setArrivedState());\n    }\n    /**\n     * Updates direction and edge arrival states based on the current scroll position.\n     * Takes into account writing mode, flex direction, and RTL layouts.\n     */\n    setArrivedState = () => {\n        if (!window || !this.element)\n            return;\n        const el = (this.element?.document?.documentElement ||\n            this.element?.documentElement ||\n            this.element);\n        const { display, flexDirection, direction } = getComputedStyle(el);\n        const directionMultiplier = direction === \"rtl\" ? -1 : 1;\n        const scrollLeft = el.scrollLeft;\n        if (scrollLeft !== this.internalX) {\n            this.directions.left = scrollLeft < this.internalX;\n            this.directions.right = scrollLeft > this.internalX;\n        }\n        const left = scrollLeft * directionMultiplier <= (this.offset.left || 0);\n        const right = scrollLeft * directionMultiplier + el.clientWidth >=\n            el.scrollWidth - (this.offset.right || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n        if (display === \"flex\" && flexDirection === \"row-reverse\") {\n            this.arrived.left = right;\n            this.arrived.right = left;\n        }\n        else {\n            this.arrived.left = left;\n            this.arrived.right = right;\n        }\n        this.internalX = scrollLeft;\n        let scrollTop = el.scrollTop;\n        // patch for mobile compatible\n        if (this.element === window.document && !scrollTop)\n            scrollTop = window.document.body.scrollTop;\n        if (scrollTop !== this.internalY) {\n            this.directions.top = scrollTop < this.internalY;\n            this.directions.bottom = scrollTop > this.internalY;\n        }\n        const top = scrollTop <= (this.offset.top || 0);\n        const bottom = scrollTop + el.clientHeight >=\n            el.scrollHeight - (this.offset.bottom || 0) - ARRIVED_STATE_THRESHOLD_PIXELS;\n        /**\n         * reverse columns and rows behave exactly the other way around,\n         * bottom is treated as top and top is treated as the negative version of bottom\n         */\n        if (display === \"flex\" && flexDirection === \"column-reverse\") {\n            this.arrived.top = bottom;\n            this.arrived.bottom = top;\n        }\n        else {\n            this.arrived.top = top;\n            this.arrived.bottom = bottom;\n        }\n        const height = el.scrollHeight - (this.offset.bottom || 0);\n        this.progress.y = (scrollTop / (height - el.clientHeight)) * 100;\n        const width = el.scrollWidth - (this.offset.left || 0);\n        // Math.abs for rtl support\n        this.progress.x = Math.abs((scrollLeft / (width - el.clientWidth)) * 100);\n        this.internalY = scrollTop;\n    };\n    #onScrollHandler = (e) => {\n        if (!window)\n            return;\n        this.setArrivedState();\n        this.isScrolling = true;\n        this.onScrollEndDebounced(e);\n        this.onScroll(e);\n    };\n    /**\n     * Programmatically scroll to a specific position.\n     */\n    scrollTo(x, y) {\n        if (!window)\n            return;\n        (this.element instanceof Document ? window.document.body : this.element)?.scrollTo({\n            top: y ?? this.y,\n            left: x ?? this.x,\n            behavior: this.behavior,\n        });\n        const scrollContainer = this.element?.document?.documentElement ||\n            this.element?.documentElement ||\n            this.element;\n        if (x != null)\n            this.internalX = scrollContainer.scrollLeft;\n        if (y != null)\n            this.internalY = scrollContainer.scrollTop;\n    }\n    /**\n     * Scrolls to the top of the element.\n     */\n    scrollToTop() {\n        this.scrollTo(undefined, 0);\n    }\n    /**\n     * Scrolls to the bottom of the element.\n     */\n    scrollToBottom() {\n        if (!window)\n            return;\n        const scrollContainer = this.element?.document?.documentElement ||\n            this.element?.documentElement ||\n            this.element;\n        if (!scrollContainer)\n            return;\n        this.scrollTo(undefined, scrollContainer.scrollHeight);\n    }\n    onScrollEnd = (e) => {\n        // dedupe if support native scrollend event\n        if (!this.isScrolling)\n            return;\n        this.isScrolling = false;\n        this.directions.left = false;\n        this.directions.right = false;\n        this.directions.top = false;\n        this.directions.bottom = false;\n        this.onStop(e);\n    };\n    onScrollEndDebounced = useDebounce(this.onScrollEnd, () => this.idle);\n}\n", "import { watch } from \"../watch/watch.svelte.js\";\nimport { get } from \"../../internal/utils/get.js\";\n/**\n * Tracks the change history of a value, providing undo and redo capabilities.\n *\n * @see {@link https://runed.dev/docs/utilities/state-history}\n */\nexport class StateHistory {\n    #redoStack = $state([]);\n    #ignoreUpdate = false;\n    #set;\n    log = $state([]);\n    canUndo = $derived(this.log.length > 1);\n    canRedo = $derived(this.#redoStack.length > 0);\n    constructor(value, set, options) {\n        this.#redoStack = [];\n        this.#set = set;\n        this.undo = this.undo.bind(this);\n        this.redo = this.redo.bind(this);\n        const addEvent = (event) => {\n            this.log.push(event);\n            const capacity$ = get(options?.capacity);\n            if (capacity$ && this.log.length > capacity$) {\n                this.log = this.log.slice(-capacity$);\n            }\n        };\n        watch(() => get(value), (v) => {\n            if (this.#ignoreUpdate) {\n                this.#ignoreUpdate = false;\n                return;\n            }\n            addEvent({ snapshot: v, timestamp: new Date().getTime() });\n            this.#redoStack = [];\n        });\n        watch(() => get(options?.capacity), (c) => {\n            if (!c)\n                return;\n            this.log = this.log.slice(-c);\n        });\n    }\n    undo() {\n        const [prev, curr] = this.log.slice(-2);\n        if (!curr || !prev)\n            return;\n        this.#ignoreUpdate = true;\n        this.#redoStack.push(curr);\n        this.log.pop();\n        this.#set(prev.snapshot);\n    }\n    redo() {\n        const nextEvent = this.#redoStack.pop();\n        if (!nextEvent)\n            return;\n        this.#ignoreUpdate = true;\n        this.log.push(nextEvent);\n        this.#set(nextEvent.snapshot);\n    }\n    clear() {\n        this.log = [];\n        this.#redoStack = [];\n    }\n}\n", "import { useResizeObserver } from \"../use-resize-observer/index.js\";\nimport { watch } from \"../watch/index.js\";\nimport { tick } from \"svelte\";\nimport { extract } from \"../extract/index.js\";\nconst stylesToCopy = [\n    \"box-sizing\",\n    \"width\",\n    \"padding-top\",\n    \"padding-right\",\n    \"padding-bottom\",\n    \"padding-left\",\n    \"border-top-width\",\n    \"border-right-width\",\n    \"border-bottom-width\",\n    \"border-left-width\",\n    \"font-family\",\n    \"font-size\",\n    \"font-weight\",\n    \"font-style\",\n    \"letter-spacing\",\n    \"text-indent\",\n    \"text-transform\",\n    \"line-height\",\n    \"word-spacing\",\n    \"word-wrap\",\n    \"word-break\",\n    \"white-space\",\n];\n/**\n * Automatically resizes a textarea element based on its content and width.\n *\n * Uses a hidden clone for accurate measurements without layout shift.\n * Reactively updates when the input or element changes, or when the\n * element is resized.\n */\nexport class TextareaAutosize {\n    #options;\n    #resizeTimeout = null;\n    #hiddenTextarea = null;\n    element = $derived.by(() => extract(this.#options.element));\n    input = $derived.by(() => extract(this.#options.input));\n    styleProp = $derived.by(() => extract(this.#options.styleProp, \"height\"));\n    maxHeight = $derived.by(() => extract(this.#options.maxHeight, undefined));\n    textareaHeight = $state(0);\n    textareaOldWidth = $state(0);\n    constructor(options) {\n        this.#options = options;\n        // Create hidden textarea for measurements\n        this.#createHiddenTextarea();\n        watch([() => this.input, () => this.element], () => {\n            tick().then(() => this.triggerResize());\n        });\n        watch(() => this.textareaHeight, () => options?.onResize?.());\n        useResizeObserver(() => this.element, ([entry]) => {\n            if (!entry)\n                return;\n            const { contentRect } = entry;\n            if (this.textareaOldWidth === contentRect.width)\n                return;\n            this.textareaOldWidth = contentRect.width;\n            this.triggerResize();\n        });\n        $effect(() => {\n            return () => {\n                // Clean up\n                if (this.#hiddenTextarea) {\n                    this.#hiddenTextarea.remove();\n                    this.#hiddenTextarea = null;\n                }\n                if (this.#resizeTimeout) {\n                    window.cancelAnimationFrame(this.#resizeTimeout);\n                    this.#resizeTimeout = null;\n                }\n            };\n        });\n    }\n    // Copy all the styles that affect text layout\n    #createHiddenTextarea() {\n        // Create a hidden textarea that will be used for measurements\n        // This avoids layout shifts caused by manipulating the actual textarea\n        if (typeof window === \"undefined\")\n            return;\n        this.#hiddenTextarea = document.createElement(\"textarea\");\n        const style = this.#hiddenTextarea.style;\n        // Make it invisible but keep same text layout properties\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.overflow = \"hidden\";\n        style.height = \"0\";\n        style.top = \"0\";\n        style.left = \"-9999px\";\n        document.body.appendChild(this.#hiddenTextarea);\n    }\n    #copyStyles() {\n        if (!this.element || !this.#hiddenTextarea)\n            return;\n        const computed = window.getComputedStyle(this.element);\n        for (const style of stylesToCopy) {\n            this.#hiddenTextarea.style.setProperty(style, computed.getPropertyValue(style));\n        }\n        // Ensure the width matches exactly\n        this.#hiddenTextarea.style.width = `${this.element.clientWidth}px`;\n    }\n    /**\n     * Recomputes the required height based on current content and applies it\n     * to the textarea. If `maxHeight` is exceeded, vertical scrolling is enabled.\n     */\n    triggerResize = () => {\n        if (!this.element || !this.#hiddenTextarea)\n            return;\n        // Copy current styles and content to hidden textarea\n        this.#copyStyles();\n        this.#hiddenTextarea.value = this.input || \"\";\n        // Measure the hidden textarea\n        const scrollHeight = this.#hiddenTextarea.scrollHeight;\n        // Apply the height, respecting maxHeight if set\n        let newHeight = scrollHeight;\n        if (this.maxHeight && newHeight > this.maxHeight) {\n            newHeight = this.maxHeight;\n            this.element.style.overflowY = \"auto\";\n        }\n        else {\n            this.element.style.overflowY = \"hidden\";\n        }\n        // Only update if height actually changed\n        if (this.textareaHeight !== newHeight) {\n            this.textareaHeight = newHeight;\n            this.element.style[this.styleProp] = `${newHeight}px`;\n        }\n    };\n}\n", "import { untrack } from \"svelte\";\nexport function useThrottle(callback, interval = 250) {\n    let lastCall = 0;\n    let timeout = $state();\n    let resolve = null;\n    let reject = null;\n    let promise = null;\n    function reset() {\n        timeout = undefined;\n        promise = null;\n        resolve = null;\n        reject = null;\n    }\n    function throttled(...args) {\n        return untrack(() => {\n            const now = Date.now();\n            const intervalValue = typeof interval === \"function\" ? interval() : interval;\n            const nextAllowedTime = lastCall + intervalValue;\n            if (!promise) {\n                promise = new Promise((res, rej) => {\n                    resolve = res;\n                    reject = rej;\n                });\n            }\n            if (now < nextAllowedTime) {\n                if (!timeout) {\n                    timeout = setTimeout(async () => {\n                        try {\n                            const result = await callback.apply(this, args);\n                            resolve?.(result);\n                        }\n                        catch (error) {\n                            reject?.(error);\n                        }\n                        finally {\n                            clearTimeout(timeout);\n                            reset();\n                            lastCall = Date.now();\n                        }\n                    }, nextAllowedTime - now);\n                }\n                return promise;\n            }\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = undefined;\n            }\n            lastCall = now;\n            try {\n                const result = callback.apply(this, args);\n                resolve?.(result);\n            }\n            catch (error) {\n                reject?.(error);\n            }\n            finally {\n                reset();\n            }\n            return promise;\n        });\n    }\n    throttled.cancel = async () => {\n        if (timeout) {\n            if (timeout === undefined) {\n                // Wait one event loop to see if something triggered the throttled function\n                await new Promise((resolve) => setTimeout(resolve, 0));\n                if (timeout === undefined)\n                    return;\n            }\n            clearTimeout(timeout);\n            reject?.(\"Cancelled\");\n            reset();\n        }\n    };\n    Object.defineProperty(throttled, \"pending\", {\n        enumerable: true,\n        get() {\n            return !!timeout;\n        },\n    });\n    return throttled;\n}\n", "import { useThrottle } from \"../use-throttle/use-throttle.svelte.js\";\nimport { watch } from \"../watch/watch.svelte.js\";\nimport { noop } from \"../../internal/utils/function.js\";\nexport class Throttled {\n    #current = $state();\n    #throttleFn;\n    constructor(getter, wait = 250) {\n        this.#current = getter(); // Immediately set the initial value\n        this.#throttleFn = useThrottle(() => {\n            this.#current = getter();\n        }, wait);\n        watch(getter, () => {\n            this.#throttleFn()?.catch(noop);\n        });\n    }\n    get current() {\n        return this.#current;\n    }\n    cancel() {\n        this.#throttleFn.cancel();\n    }\n    setImmediately(v) {\n        this.cancel();\n        this.#current = v;\n    }\n}\n", "import { defaultNavigator, } from \"../../internal/configurable-globals.js\";\n/**\n * Reactive access to the browser's [Geolocation API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API).\n *\n * @see https://runed.dev/docs/utilities/use-geolocation\n */\nexport function useGeolocation(options = {}) {\n    const { enableHighAccuracy = true, maximumAge = 30000, timeout = 27000, immediate = true, navigator = defaultNavigator, } = options;\n    const isSupported = Boolean(navigator);\n    let error = $state.raw(null);\n    let position = $state({\n        timestamp: 0,\n        coords: {\n            accuracy: 0,\n            latitude: Number.POSITIVE_INFINITY,\n            longitude: Number.POSITIVE_INFINITY,\n            altitude: null,\n            altitudeAccuracy: null,\n            heading: null,\n            speed: null,\n        },\n    });\n    let isPaused = $state(false);\n    function updatePosition(_position) {\n        error = null;\n        position.timestamp = _position.timestamp;\n        position.coords.accuracy = _position.coords.accuracy;\n        position.coords.altitude = _position.coords.altitude;\n        position.coords.altitudeAccuracy = _position.coords.altitudeAccuracy;\n        position.coords.heading = _position.coords.heading;\n        position.coords.latitude = _position.coords.latitude;\n        position.coords.longitude = _position.coords.longitude;\n        position.coords.speed = _position.coords.speed;\n    }\n    let watcher;\n    function resume() {\n        if (!navigator)\n            return;\n        watcher = navigator.geolocation.watchPosition(updatePosition, (err) => (error = err), {\n            enableHighAccuracy,\n            maximumAge,\n            timeout,\n        });\n        isPaused = false;\n    }\n    function pause() {\n        if (watcher && navigator) {\n            navigator.geolocation.clearWatch(watcher);\n        }\n        isPaused = true;\n    }\n    $effect(() => {\n        if (immediate)\n            resume();\n        return () => pause();\n    });\n    return {\n        get isSupported() {\n            return isSupported;\n        },\n        position,\n        get error() {\n            return error;\n        },\n        get isPaused() {\n            return isPaused;\n        },\n        resume,\n        pause,\n    };\n}\n", "import { extract } from \"../extract/index.js\";\nimport { watch } from \"../watch/watch.svelte.js\";\n/**\n * Wrapper for `setInterval` with controls for pausing and resuming.\n *\n * @see https://runed.dev/docs/utilities/use-interval\n *\n * @param delay - The interval in milliseconds between executions\n * @param options - Configuration options\n * @returns Object with pause, resume, reset methods, counter and isActive state\n */\nexport function useInterval(delay, options = {}) {\n    const { immediate = true, immediateCallback = false, callback } = options;\n    let intervalId = $state(null);\n    let counter = $state(0);\n    const delay$ = $derived(extract(delay));\n    const isActive = $derived(intervalId !== null);\n    function runCallback() {\n        counter++;\n        callback?.(counter);\n    }\n    function createInterval() {\n        intervalId = setInterval(runCallback, delay$);\n    }\n    const pause = () => {\n        if (intervalId === null)\n            return;\n        clearInterval(intervalId);\n        intervalId = null;\n    };\n    const resume = () => {\n        if (intervalId !== null)\n            return;\n        if (immediateCallback)\n            runCallback();\n        createInterval();\n    };\n    if (immediate) {\n        resume();\n    }\n    // Sync interval's delay with the prop\n    watch(() => delay$, () => {\n        if (!isActive)\n            return;\n        pause();\n        createInterval();\n    });\n    // Cleanup on disposal\n    $effect(() => pause);\n    return {\n        pause,\n        resume,\n        reset: () => (counter = 0),\n        get isActive() {\n            return isActive;\n        },\n        get counter() {\n            return counter;\n        },\n    };\n}\n", "/**\n * Transforms any value into `\"\"` (empty string) or `undefined` for use with HTML attributes where presence indicates truth.\n *\n * Unlike directly assigning a boolean (e.g., `data-active={true}`), which often renders the string \"true\" as the attribute's value,\n * this utility produces an empty string for truthy inputs (resulting in `<div data-active>`) or `undefined` for falsy inputs\n * (resulting in the attribute being omitted entirely: `<div>`). This pattern is standard for native boolean attributes\n * and essential for custom ones used as flags.\n *\n * This is particularly useful for custom `data-*` attributes that drive conditional styling (e.g., CSS selectors like `[data-state=\"active\"]` or `[data-loading]`)\n * or JavaScript behavior. It simplifies applying conditional states for CSS frameworks like Tailwind CSS, enabling more terse attribute-based variants\n * such as `data-[active]:opacity-100` or `group-data-[loading]:pointer-events-none`, instead of needing to target the attribute's value (`data[active='true']:opacity-100`).\n */\nexport function boolAttr(value) {\n    return value ? \"\" : undefined;\n}\n", "/**\n * Register a cleanup function that will be called when the current effect context is disposed,\n * which could be when a component is destroyed or when a root effect is disposed.\n *\n * @see {@link https://runed.dev/docs/utilities/on-cleanup}\n *\n * @param cb - The cleanup function to register.\n */\nexport function onCleanup(cb) {\n    $effect(() => {\n        return () => {\n            cb();\n        };\n    });\n}\n"],
  "mappings": "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",
  "names": ["document", "activeElement", "window", "document", "update", "window", "window", "update", "get", "get", "update", "window", "document", "window", "get", "window", "document", "window", "document", "activeElement", "defaultDocument", "window", "proxy", "update", "value", "window", "update", "onCleanup", "options", "set", "get", "resolve"]
}
